parameters:
  example: 'foo'

steps:
- template: install_dependencies.yml
  parameters:
    underlay: /opt/ros_ws
    workspace: /opt/underlay_ws
    name: install_underlay_dependencies
# - template: cache_with_workspace.yml
#   parameters:
#     key: ccache
#     workspace: /opt/underlay_ws
#     path: /root/ccache
- template: ccache_stats.yml
  parameters:
    name: ccache_stats
- template: setup_workspace.yml
  parameters:
    key: underlay
    underlay: /opt/ros_ws
    workspace: /opt/underlay_ws
    mixins: ${UNDERLAY_MIXINS}
- template: ccache_stats.yml
  parameters:
    name: ccache_stats_underlay
- template: install_dependencies.yml
  parameters:
    underlay: /opt/underlay_ws
    workspace: /opt/overlay_ws
    name: install_overlay_dependencies
