parameters:
  key: ''
  workspace: ''
  path: ''

steps:
# - script: |
#     sleep infinity
- task: CacheBeta@0
  inputs:
    key: "
      $(Agent.OS) | \
      $(Agent.OSArchitecture) | \
      \"${{parameters.key}}\" | \
      ${{parameters.workspace}}/checksum.txt"
    path: ${{parameters.path}}
    # restoreKeys: |
    #   $(Agent.OS) | "${{parameters.key}}" | ${{parameters.workspace}}/checksum.txt
    #   $(Agent.OS) | "${{parameters.key}}"
  displayName: Save Cache ${{parameters.key}}